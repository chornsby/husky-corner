(this["webpackJsonphusky-corner"]=this["webpackJsonphusky-corner"]||[]).push([[0],{24:function(e,t){},47:function(e,t){},48:function(e,t){},49:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(25),i=n.n(c),r=n(13),l=n(2),o=(n(32),n(8)),j=n(9),u=n(11),b=n(10),d=n(0),h=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"content has-text-centered",children:[Object(d.jsx)("strong",{children:"Husky Corner"})," by"," ",Object(d.jsx)("a",{href:"https://gitlab.com/chornsby",rel:"noopener noreferrer",target:"_blank",children:"chornsby"})]})})})}}]),n}(s.a.Component),A=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)("div",{className:"navbar-brand",children:Object(d.jsx)(r.b,{className:"navbar-item",to:"/",children:Object(d.jsx)("img",{alt:"Husky Corner",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEUAAAAAAAD/////vdWUlJSMyP//lr1yf9crAAAAAXRSTlMAQObYZgAAAAFiS0dEAmYLfGQAAAAHdElNRQfiBx0JBzjvmVatAAAAXElEQVQI11WN0QnAMAhELxtEIQPUSgdoNhBXyALdf4he7FcfnDxOUKCBdEY52sGcHHp3tLllloh8kmRLRqbnlgzPkhW+Skb4+K3CDjWnWME/aiLG66yuZxeAEOAF8uIO2KUp66UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDctMjlUMDk6MDc6NTYtMDc6MDCFtJ32AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA3LTI5VDA5OjA3OjU2LTA3OjAw9OklSgAAAABJRU5ErkJggg=="})})}),Object(d.jsx)(r.b,{className:"navbar-item",to:"/",children:"Husky Corner"}),Object(d.jsx)(r.b,{className:"navbar-item",to:"/convert/",children:"Convert to Excel"})]})}}]),n}(s.a.Component),m=n(22),p=n.n(m),O=n(27),f=n(7),x=n(15),v=n.n(x),g=function(e,t){if(!e.length)throw new Error("Choose a text file");return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e})).map((function(e,n){return function(e,t,n){var a=e.split("<");if(t>0){for(;a.length<4;)a.push("");if(0===a[1].length){if("syno"!==a[0].toLowerCase())throw new Error("Check missing timestamp: ".concat(e));console.log("Ignoring missing timestamp for synopsis")}a[1]=a[1].replace(".",":"),a.splice(3,1,n)}return a}(e,n,t)}))},N=function(e){var t=new FileReader;return new Promise((function(n,a){t.onerror=function(){t.abort(),a(new DOMException("Problem parsing input file."))},t.onload=function(){n(t.result)},t.readAsText(e)}))},y=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onDownloadClicked=function(){try{var e=function(e,t){var n=v.a.utils.book_new(),a=g(e,t),s=v.a.utils.aoa_to_sheet(a);return v.a.utils.book_append_sheet(n,s),n}(a.state.inputContent,a.state.episode);t=e,n=a.state.outputFilename,v.a.writeFile(t,n)}catch(s){a.setState(Object(f.a)(Object(f.a)({},a.state),{},{inputContent:"",inputFilename:""})),alert(s.message)}var t,n},a.onFileChanged=function(){var e=Object(O.a)(p.a.mark((function e(t){var n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target).files){e.next=3;break}return e.abrupt("return");case 3:return s=n.files[0],e.t0=a,e.t1=f.a,e.t2=Object(f.a)({},a.state),e.t3={},e.next=10,N(s);case 10:e.t4=e.sent,e.t5=s.name,e.t6={inputContent:e.t4,inputFilename:e.t5},e.t7=(0,e.t1)(e.t2,e.t3,e.t6),e.t0.setState.call(e.t0,e.t7);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={episode:"",inputContent:"",inputFilename:"",outputFilename:"output.xlsx"},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsx)("section",{className:"section",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{className:"title",children:"Upload a file"}),Object(d.jsxs)("p",{children:["This utility converts a file of text separated with"," ",Object(d.jsx)("code",{children:"<"})," characters into separate columns in an Excel spreadsheet."]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"field",children:[Object(d.jsx)("label",{className:"label",children:"Text file"}),Object(d.jsx)("div",{className:"file has-name is-fullwidth",children:Object(d.jsxs)("label",{className:"file-label",children:[Object(d.jsx)("input",{className:"file-input",type:"file",onChange:this.onFileChanged}),Object(d.jsx)("span",{className:"file-cta",children:Object(d.jsx)("span",{className:"file-label",children:"Choose a file"})}),Object(d.jsx)("span",{className:"file-name",children:this.state.inputFilename})]})})]}),Object(d.jsxs)("div",{className:"field",children:[Object(d.jsx)("label",{className:"label",children:"Excel filename"}),Object(d.jsx)("div",{className:"control",children:Object(d.jsx)("input",{className:"input",placeholder:"Optional",type:"text",onChange:function(t){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{outputFilename:t.target.value}))},value:this.state.outputFilename})})]}),Object(d.jsxs)("div",{className:"field",children:[Object(d.jsx)("label",{className:"label",children:"Episode"}),Object(d.jsx)("div",{className:"control",children:Object(d.jsx)("input",{className:"input",placeholder:"Optional",type:"text",onChange:function(t){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{episode:t.target.value}))},value:this.state.episode})})]}),Object(d.jsx)("div",{className:"field",children:Object(d.jsx)("div",{className:"control",children:Object(d.jsx)("button",{className:"button is-primary",onClick:this.onDownloadClicked,children:"Download"})})})]})})}}]),n}(s.a.Component),C=n.p+"static/media/husky-frontpage.d5f4b6b2.png",k=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(d.jsx)("section",{className:"hero is-info is-bold",children:Object(d.jsx)("div",{className:"hero-body",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"columns is-vcentered",children:[Object(d.jsxs)("div",{className:"column",children:[Object(d.jsx)("h1",{className:"title",children:"Welcome to Husky Corner"}),Object(d.jsx)("h2",{className:"subtitle",children:"This good boy will help you with what you need to do."})]}),Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("img",{alt:"The good boy",src:C,style:{maxHeight:"50%"}})})]})})})})}}]),n}(s.a.Component);i.a.render(Object(d.jsxs)(r.a,{children:[Object(d.jsx)(A,{}),Object(d.jsx)(l.a,{path:"/",component:k,exact:!0}),Object(d.jsx)(l.a,{path:"/convert/",component:y}),Object(d.jsx)(h,{})]}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.904f7066.chunk.js.map